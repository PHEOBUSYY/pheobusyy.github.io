<!DOCTYPE html><html class="has-navbar-fixed-top" lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title></title><script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script><link rel="stylesheet" type="text/css" href="/css/bulma.css"><link rel="stylesheet" type="text/css" href="/css/justyan.css"><link rel="stylesheet" type="text/css" href="/highlight/styles/dracula.css"><link rel="icon" href="/img/favicon.png"></head><body><section class="hero is-info is-medium"><div class="hero-head"><nav class="navbar is-fixed-top is-info"><div class="container"><div class="navbar-brand"><a class="navbar-item"><img class="navbar-circle" src="https://avatars2.githubusercontent.com/u/9360264?s=50&amp;u=5e88482f7319a8ce65ed618bcede72ea97a7f5aa&amp;v=4"></a><span class="navbar-burger burger" data-target="navbarMenuHeroA"><span></span><span></span><span></span></span></div><div class="navbar-menu" id="navbarMenuHeroA"><div class="navbar-end"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/category">Categories</a><a class="navbar-item" href="/contact">Contact</a><span class="navbar-item"><a class="button is-info is-inverted" href="https://github.com/PHEOBUSYY"><span class="icon"><i class="fab fa-github"></i></span><span>Github</span></a></span></div></div></div></nav></div><div class="hero-body"><div class="has-text-centered"><h1 class="title">java design pattern - bridge pattern</h1><h2 class="subtitle">2016-05-30</h2></div></div><div class="hero-foot"></div></section><div id="content-outer"><div id="content-inner"><article id="post"><div id="toc"><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#场景"><span class="toc-number">1.</span> <span class="toc-text">场景</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#桥接模式"><span class="toc-number">2.</span> <span class="toc-text">桥接模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考资料"><span class="toc-number">3.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="post-text"><!-- TOC depthFrom:2 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->
<ul>
<li><a href="#场景">场景</a></li>
<li><a href="#桥接模式">桥接模式</a></li>
<li><a href="#参考资料">参考资料</a></li>
</ul>
<!-- /TOC -->
<h2 id="场景"><a href="#场景" class="headerlink" title="场景"></a>场景</h2><pre><code>在编程中会遇到一个对象本身的定义和它的行为动作都在变化，这种情况下调整代码是非常痛苦的，实际上是在两个维度上面做调整
这个时候可以使用桥接模式，将两个维度变化分别抽象，最后通过组合的方式把二者组合起来来最小化的调整代码。
</code></pre><h2 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h2><p><img src="/images/2016/05/bridge_pattern_uml.svg.png" alt="bridge pattern"></p>
<p>  桥接模式是一种结构模式，是一种对抽象本质（abstraction）和行为实现(implementaion)的解耦合的设计模式.桥接模式由4个角色组成：</p>
<ul>
<li>抽象基类（abstraction） 用在类本身变化的抽象</li>
<li>重定义基类（RefinedAbstraction） 类本身具体的实现</li>
<li>行为接口（Implementor） 类行为的抽象接口</li>
<li><p>具体实现类(ConcreteImplementor) 类行为的具体实现</p>
<p>比如，手机中有很多软件，同时手机也有很多个品牌，这两个维度都在变化的时候，可以通过桥接模式来实现。最后把抽象和实现通过组合的方式绑定在一起，在这里<br>手机的品牌为主，所以是抽象，而软件是一个功能点，所以是行为抽象。</p>
<a id="more"></a>
<pre><code class="java">public abstract class MobileBrand {
protected MobileSoft mobileSoft;

public MobileBrand(MobileSoft mobileSoft) {
    this.mobileSoft = mobileSoft;
}
public abstract void use();
}
</code></pre>
<pre><code class="java">public class AppleMobile extends MobileBrand {
public AppleMobile(MobileSoft mobileSoft) {
    super(mobileSoft);
}

@Override
public void use() {
    mobileSoft.play();
    System.out.println(&quot;AppleMobile use&quot;);
}
}

public class SamSungMobile extends MobileBrand {
public SamSungMobile(MobileSoft mobileSoft) {
    super(mobileSoft);
}

@Override
public void use() {
    mobileSoft.play();
    System.out.println(&quot;SamSungMobile use&quot;);
}
}
</code></pre>
<pre><code class="java">public interface MobileSoft {
void play();
}
</code></pre>
<pre><code class="java">public class ConcreteMobileSoftA implements MobileSoft{
@Override
public void play() {
    System.out.println(&quot;ConcreteMobileSoftA play!!!&quot;);
}
}

public class ConcreteMobileSoftB implements MobileSoft{
@Override
public void play() {
    System.out.println(&quot;ConcreteMobileSoftB play!!!&quot;);
}
}
</code></pre>
<pre><code class="java">public class Test {
public static void main(String[] args) {
    MobileSoft concreteMobileSoftA = new ConcreteMobileSoftA();
    MobileSoft concreteMobileSoftB = new ConcreteMobileSoftB();
    MobileBrand brand = new SamSungMobile(concreteMobileSoftA);
    brand.use();
    brand = new SamSungMobile(concreteMobileSoftB);
    brand.use();

    brand = new AppleMobile(concreteMobileSoftA);
    brand.use();
    brand = new AppleMobile(concreteMobileSoftB);
    brand.use();
}
}
</code></pre>
<p>输出：</p>
<pre><code class="java">ConcreteMobileSoftA play!!!
SamSungMobile use
ConcreteMobileSoftB play!!!
SamSungMobile use
ConcreteMobileSoftA play!!!
AppleMobile use
ConcreteMobileSoftB play!!!
AppleMobile use
</code></pre>
<p>内部的组合是关键点。</p>
</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://en.wikipedia.org/wiki/Bridge_pattern" title="Bridge Pattern" target="_blank" rel="external">Bridge Pattern</a></p>
<p><a href="http://www.tutorialspoint.com/design_pattern/bridge_pattern.htm" title="Design Patterns - Bridge Pattern" target="_blank" rel="external">Design Patterns - Bridge Pattern</a></p>
</div></article><div></div></div></div><div id="bottom-outer"><div id="bottom-inner"><span>Site construction by</span><span> JustYan </span><span>using</span><a href="http://hexo.io"><span>hexo blog framework</span></a><span>.</span><br><a href="/">Home</a></div></div><script src="/js/justyan.js"></script><script src="/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>