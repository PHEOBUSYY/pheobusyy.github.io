<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>java 内部类－Nested Classes | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="定义在java中允许在一个内内部定义另一个类，这个被定义的类就叫做内部类（很形象嘛）.比如下面示例：
12345678910class OuterClass &amp;#123;  ...  static class StaticNestedClass&amp;#123;    ...  &amp;#125;  ...  class NestedClass&amp;#123;    ...  &amp;#125;&amp;#125;
其中，St">
<meta property="og:type" content="article">
<meta property="og:title" content="java 内部类－Nested Classes">
<meta property="og:url" content="http://yoursite.com/2016/03/29/2016/java 内部类－Nested Classes/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="定义在java中允许在一个内内部定义另一个类，这个被定义的类就叫做内部类（很形象嘛）.比如下面示例：
12345678910class OuterClass &amp;#123;  ...  static class StaticNestedClass&amp;#123;    ...  &amp;#125;  ...  class NestedClass&amp;#123;    ...  &amp;#125;&amp;#125;
其中，St">
<meta property="og:updated_time" content="2017-02-25T01:12:01.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="java 内部类－Nested Classes">
<meta name="twitter:description" content="定义在java中允许在一个内内部定义另一个类，这个被定义的类就叫做内部类（很形象嘛）.比如下面示例：
12345678910class OuterClass &amp;#123;  ...  static class StaticNestedClass&amp;#123;    ...  &amp;#125;  ...  class NestedClass&amp;#123;    ...  &amp;#125;&amp;#125;
其中，St">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-2016/java 内部类－Nested Classes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/29/2016/java 内部类－Nested Classes/" class="article-date">
  <time datetime="2016-03-29T12:20:00.000Z" itemprop="datePublished">2016-03-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      java 内部类－Nested Classes
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>在java中允许在一个内内部定义另一个类，这个被定义的类就叫做内部类（很形象嘛）.比如下面示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">OuterClass</span> </span>&#123;</div><div class="line">  ...</div><div class="line">  <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticNestedClass</span></span>&#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">  ...</div><div class="line">  <span class="class"><span class="keyword">class</span> <span class="title">NestedClass</span></span>&#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>其中，StaticNestedClass叫做静态内部类，也叫嵌套类，NestedClass叫做成员内部类。其中成员内部类又包括匿名内部类(Anonymous innerClass)和局部内部类(local innerCalss)内部类是外部类中一个成员;</p>
<p>成员内部类可以访问其外部类的成员，包括其中的作用于为private的成员,其内部有一个对外部类的引用，所依可以获取到外部类所有的成员。<br>静态内部类和其外部类是平级关系，与一个普通的外部类作用类似，没有对其外部类的引用。</p>
<h2 id="为什么使用内部类"><a href="#为什么使用内部类" class="headerlink" title="为什么使用内部类"></a>为什么使用内部类</h2><ul>
<li>一种可以把逻辑按组合整合在一起的方法</li>
<li>增强封装</li>
<li>增加代码的可读性和可维护性</li>
<li>一种变相支持多重继承的方式（后面会讲到）</li>
<li>闭包（回调）类似lambda<a id="more"></a>
<h2 id="内部类初始化"><a href="#内部类初始化" class="headerlink" title="内部类初始化"></a>内部类初始化</h2>一个成员内部类对象必须基于外部类对象而存活，不能独立存在，通过.new Instance()的方式来初始化<br>比如上面成员内部类NetstedClass初始化  new OuterClass().new NestedClass()<h2 id="Shadowing-这里不知道如何翻译？阴影？"><a href="#Shadowing-这里不知道如何翻译？阴影？" class="headerlink" title="Shadowing(这里不知道如何翻译？阴影？)"></a>Shadowing(这里不知道如何翻译？阴影？)</h2></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShadowTest</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> x = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">FirstLevel</span> </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">public</span> <span class="keyword">int</span> x = <span class="number">1</span>;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">methodInFirstLevel</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">            System.out.println(<span class="string">"x = "</span> + x);</div><div class="line">            System.out.println(<span class="string">"this.x = "</span> + <span class="keyword">this</span>.x);</div><div class="line">            System.out.println(<span class="string">"ShadowTest.this.x = "</span> + ShadowTest.<span class="keyword">this</span>.x);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String... args)</span> </span>&#123;</div><div class="line">        ShadowTest st = <span class="keyword">new</span> ShadowTest();</div><div class="line">        ShadowTest.FirstLevel fl = st.new FirstLevel();</div><div class="line">        fl.methodInFirstLevel(<span class="number">23</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>output:</p>
<blockquote>
<p>x =23 普通的初始化<br>this.x =1   对自己本身的引用方式，和普通类一样<br>ShadowTest.this.x = 0  对外部类的引用方式</p>
</blockquote>
<p>不管嵌套多少层，都可以使用这种方式来获取对应的变量。</p>
<h2 id="一个内部类实现迭代器的demo"><a href="#一个内部类实现迭代器的demo" class="headerlink" title="一个内部类实现迭代器的demo"></a>一个内部类实现迭代器的demo</h2><p>外部类实现Iterable接口，返回一个Iterator对象，通过一个内部类实现Iterator接口的next和hasNext方法，来遍历容器中的对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestIteratorClass</span> <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">String</span>&gt;</span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"apple"</span>,<span class="string">"orange"</span>,<span class="string">"banana"</span>,<span class="string">"lemon"</span>&#125;;</div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;String&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TestIterator();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        TestIteratorClass test = <span class="keyword">new</span> TestIteratorClass();</div><div class="line">        Iterator&lt;String&gt; iterator = test.iterator();</div><div class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</div><div class="line">            System.out.println(<span class="string">"name="</span>+iterator.next());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TestIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">String</span>&gt; </span>&#123;</div><div class="line">       <span class="keyword">private</span> <span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> index &lt; arr.length;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> arr[index ++];</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="local-Classes"><a href="#local-Classes" class="headerlink" title="local Classes"></a>local Classes</h2><p>local Classes是可以定义在一组或者多组配对括号组成的代码块中的内部类，一般出现在方法的内部。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestLocalClass2</span> </span>&#123;</div><div class="line">    &#123;</div><div class="line">        <span class="comment">//这个也属于local classes</span></div><div class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Test2</span></span>&#123;</div><div class="line">          <span class="keyword">private</span> <span class="keyword">int</span> x = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">      <span class="comment">//local class不能定义接口 编译无法通过</span></div><div class="line">      <span class="class"><span class="keyword">interface</span> <span class="title">Itest</span></span>&#123;</div><div class="line">           <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>;</div><div class="line">       &#125;</div><div class="line">        <span class="keyword">if</span> (x &gt; <span class="number">10</span>) &#123;</div><div class="line">            <span class="comment">//LcalClass的生命周期仅限于if块内</span></div><div class="line">            <span class="class"><span class="keyword">class</span> <span class="title">LocalClass</span> </span>&#123;</div><div class="line">                <span class="keyword">private</span> <span class="keyword">int</span> gender;</div><div class="line"></div><div class="line">                <span class="comment">//可以声明一些静态常量 可以编译通过</span></div><div class="line">                <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> id = <span class="number">10</span>;</div><div class="line">                <span class="comment">//必须加上final的static才可以</span></div><div class="line">                <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> id2 = <span class="number">10</span>;<span class="comment">//error 无法编译通过</span></div><div class="line"></div><div class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">innerTest</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">                &#125;</div><div class="line">                <span class="comment">//可以继续添加内部类，层次不限</span></div><div class="line">                <span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span> </span>&#123;</div><div class="line">                    <span class="keyword">private</span> <span class="keyword">int</span> k;</div><div class="line">                &#125;</div><div class="line">                <span class="comment">//不能有静态方法 编译无法通过</span></div><div class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">innerTest2</span><span class="params">()</span></span>&#123;</div><div class="line"></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            LocalClass localClass = <span class="keyword">new</span> LocalClass();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">//这里已经获取不到LocalClass 了</span></div><div class="line">            LocalClass localClass = <span class="keyword">new</span> LocalClass();<span class="comment">//编译无法通过</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>通过上面demo的注释可以发现：不能声明接口，可以定义静态常量，不能定义静态方法</p>
<h2 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h2><p>匿名内部类可以是代码更加的精简易读，通常在各种回调函数中使用，这个就不多做介绍了。</p>
<h2 id="lambda-表达式"><a href="#lambda-表达式" class="headerlink" title="lambda 表达式"></a>lambda 表达式</h2><p>通过匿名内部类的使用过程中，会发现实际上它就是一个可以执行的代码块函数，就是一段可执行代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener&#123;</div><div class="line">  <span class="function"><span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span></span>&#123;</div><div class="line">      <span class="comment">//do something;</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>在jdk1.8中正式引入了lambda表达式，来简化代码并且是代码的可读性进一步加强。实际上在python中lambda的概念很早就有了，函数式编程的思想后续再讨论。下面通过一个demo的演变来展示lambda的简化过程<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> Sex &#123;</div><div class="line">        MALE, FEMALE</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    String name;</div><div class="line">    LocalDate birthday;</div><div class="line">    Sex gender;</div><div class="line">    String emailAddress;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="comment">// ...</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printPerson</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="comment">// ...</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>person是一个标准的java bean，下面实现一个过滤器，通过属性过滤来得到适合的person对象,刚开始的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printPersonsOlderThan</span><span class="params">(List&lt;Person&gt; list, <span class="keyword">int</span> age)</span> </span>&#123;</div><div class="line">       <span class="keyword">for</span> (Person p : list) &#123;</div><div class="line">           <span class="keyword">if</span> (p.getAge() &gt;= age) &#123;</div><div class="line">               p.printPerson();</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>不过这样的代码很脆弱，没有很好的达到隔离和封装，如果要修改筛选属性条件的话就很难受，下面是更普遍得做法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printPersonsOlderThan</span><span class="params">(List&lt;Person&gt; list, CheckPerson checkPerson)</span> </span>&#123;</div><div class="line">       <span class="keyword">for</span> (Person p : list) &#123;</div><div class="line">           <span class="keyword">if</span> (checkPerson.test(p)) &#123;</div><div class="line">               p.printPerson();</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">CheckPerson</span></span>&#123;</div><div class="line">   <span class="function"><span class="keyword">boolean</span> <span class="title">test</span><span class="params">(Person person)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>通过定义CheckPerson接口来定义筛选行为，在代码中实现该接口来完成筛选，这样可以很好的封装和整合代码，下面是匿名内部类的方式实现：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">printPersonsOlderThan(list, <span class="keyword">new</span> CheckPerson() &#123;</div><div class="line">        <span class="meta">@Override</span></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">test</span><span class="params">(Person person)</span> </span>&#123;</div><div class="line">          <span class="keyword">return</span> p.getGender() == Person.Sex.MALE</div><div class="line">                        &amp;&amp; p.getAge() &gt;= <span class="number">18</span></div><div class="line">                        &amp;&amp; p.getAge() &lt;= <span class="number">25</span>;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;);</div></pre></td></tr></table></figure></p>
<p>像上面的定义的CheckPerson接口这样的只有一个抽象方法，传入一个对象返回boolean的结果在java中很普遍，所以jdk中已经提前内置了标准的接口Predicate（位于java.util.function中），可以直接使用，同时function包中还有很多的内置接口，以后可以看下使用方法，很简单。上面的定义改为：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printPersonsOlderThan</span><span class="params">(List&lt;Person&gt; list, Predicate&lt;Person&gt; checkPerson)</span> </span>&#123;</div><div class="line">       <span class="keyword">for</span> (Person p : list) &#123;</div><div class="line">           <span class="keyword">if</span> (checkPerson.test(p)) &#123;</div><div class="line">               p.printPerson();</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>来看lambda简化后的代码调用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">printPersonsOlderThan(</div><div class="line">              list,</div><div class="line">              person -&gt; person.getAge()&gt;<span class="number">10</span></div><div class="line">                        &amp;&amp; person.gender == Person.Sex.FEMALE</div><div class="line">                        &amp;&amp; person.getAge()&lt;<span class="number">50</span></div><div class="line">              );</div></pre></td></tr></table></figure></p>
<p>可以替换掉函数内部的printPerson方法，更改匹配之后的行为，在java中提供了Consumer<t>接口，内部提供了accept<t t="">方法。代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">processPerson</span><span class="params">(List&lt;Person&gt; list, Predicate&lt;Person&gt; predicate, Consumer&lt;Person&gt; consumer)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (Person person : list) &#123;</div><div class="line">            <span class="keyword">if</span> (predicate.test(person)) &#123;</div><div class="line">                consumer.accept(person);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></t></t></p>
<p>lambda之后的调用格式为：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">processPerson(list,</div><div class="line">               person -&gt; person.getAge() &gt; <span class="number">10</span></div><div class="line">                       &amp;&amp; person.gender == Person.Sex.FEMALE</div><div class="line">                       &amp;&amp; person.getAge() &lt; <span class="number">50</span>,</div><div class="line">               person -&gt; person.printPerson()</div><div class="line">               );</div></pre></td></tr></table></figure></p>
<p>再次变更方法，如果需要获取联系人的name并打印出来，你需要一个抽象方法传入person对象并输出对应的name，可以使用java提供的Function的apply<t t="" ,="" r="">方法,代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">processPersonWithFunction</span><span class="params">(List&lt;Person&gt; list, Predicate&lt;Person&gt; predicate, Function&lt;Person, String&gt; mapper, Consumer&lt;String&gt; consumer)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (Person p : list) &#123;</div><div class="line">            <span class="keyword">if</span> (predicate.test(p)) &#123;</div><div class="line">                String data = mapper.apply(p);</div><div class="line">                consumer.accept(data);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></t></p>
<p>lambda之后调用如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">processPersonWithFunction(list,</div><div class="line">               person -&gt; person.getAge() &gt; <span class="number">10</span></div><div class="line">                       &amp;&amp; person.gender == Person.Sex.FEMALE</div><div class="line">                       &amp;&amp; person.getAge() &lt; <span class="number">50</span>,</div><div class="line">               person -&gt; person.name,</div><div class="line">               name -&gt; &#123;</div><div class="line">                  <span class="comment">//这里是为了说明lambda里面可以包含多行语句的常用格式</span></div><div class="line">                   System.out.println(<span class="string">"name="</span>+name);</div><div class="line">                   System.out.println(<span class="string">"name2="</span>+name + <span class="string">"test"</span>);</div><div class="line">               &#125;</div><div class="line">               );</div></pre></td></tr></table></figure></p>
<p>经过上面的一番需求变动，我们可以写出通用范型格式的处理element方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;X,Y&gt; <span class="function"><span class="keyword">void</span> <span class="title">processElements</span><span class="params">(Iterable&lt;X&gt; source, Predicate&lt;X&gt; predicate , Function&lt;X,Y&gt; mapper , Consumer&lt;Y&gt; consumer)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (X x : source) &#123;</div><div class="line">            <span class="keyword">if</span> (predicate.test(x)) &#123;</div><div class="line">                Y data = mapper.apply(x);</div><div class="line">                consumer.accept(data);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>lambda调用如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">processElements(list,</div><div class="line">                person -&gt; person.getAge() &gt; <span class="number">10</span></div><div class="line">                        &amp;&amp; person.gender == Person.Sex.FEMALE</div><div class="line">                        &amp;&amp; person.getAge() &lt; <span class="number">50</span>,</div><div class="line">                person -&gt; person.name,</div><div class="line">                name -&gt; &#123;</div><div class="line">                    System.out.println(<span class="string">"name="</span>+name);</div><div class="line">                    System.out.println(<span class="string">"name2="</span>+name + <span class="string">"test"</span>);</div><div class="line">                &#125;</div><div class="line">        );</div></pre></td></tr></table></figure>
<p>在jdk8中新增了聚合操作的概念，可以简化上面的processElement方法，代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">list</div><div class="line">    .stream()</div><div class="line">    .filter(person -&gt; person.getAge() &gt; <span class="number">10</span></div><div class="line">                &amp;&amp; person.gender == Person.Sex.FEMALE</div><div class="line">                &amp;&amp; person.getAge() &lt; <span class="number">50</span>)</div><div class="line">    .map(person1 -&gt; person1.name)</div><div class="line">    .forEach(name -&gt; System.out.println(<span class="string">"name="</span>+name));</div></pre></td></tr></table></figure></p>
<p>上面的操作和rxjava的处理模式是一样的，都是基于事件流的方式。参考 <a href="https://docs.oracle.com/javase/tutorial/collections/streams/index.html" title="Aggregate Operations(聚合操作)" target="_blank" rel="external">Aggregate Operations（聚合操作）</a></p>
<h2 id="lambda语法"><a href="#lambda语法" class="headerlink" title="lambda语法"></a>lambda语法</h2><ul>
<li>一个括号包含的逗号分隔的参数集合 类似 （String a，Integer b）,在lambda中可以省略数据类型，（a,b）,如果只有一个参数可以省略括号 省略为 a。</li>
<li>一个指向箭头  -&gt;</li>
<li>一段代码块，可以是一行代码也可以是一个代码片段，如果是方法块需要包含在｛｝中，如果只有一行可以省略｛｝，如果是返回整个表达式，可以省略return关键字</li>
</ul>
<p>一个普通示例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(Person person) -&gt; &#123;</div><div class="line">                   <span class="keyword">return</span> person.getAge() &gt; <span class="number">10</span></div><div class="line">                       &amp;&amp; person.gender == Person.Sex.FEMALE</div><div class="line">                       &amp;&amp; person.getAge() &lt; <span class="number">50</span>;&#125;</div></pre></td></tr></table></figure></p>
<p>经过省略之后变成：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">person -&gt; person.getAge() &gt; <span class="number">10</span></div><div class="line">    &amp;&amp; person.gender == Person.Sex.FEMALE</div><div class="line">    &amp;&amp; person.getAge() &lt; <span class="number">50</span></div></pre></td></tr></table></figure></p>
<h2 id="Target-Typing"><a href="#Target-Typing" class="headerlink" title="Target Typing"></a>Target Typing</h2><p>如何确定一个lambda表达式的类型呢？java编译器通过以下的匹配来决定的：</p>
<ul>
<li>变量声明</li>
<li>返回值</li>
<li>Assignments（?）</li>
<li>数组初始化</li>
<li>方法或者构造函数变量</li>
<li>lambda的body</li>
<li>条件判断</li>
<li>转型表达式</li>
</ul>
<p>举例，比如Runable和Callable<v>，分别通过invoke方法来调用<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">invoke</span><span class="params">(Runnable r)</span> </span>&#123;</div><div class="line">    r.run();</div><div class="line">&#125;</div><div class="line"></div><div class="line">&lt;T&gt; <span class="function">T <span class="title">invoke</span><span class="params">(Callable&lt;T&gt; c)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> c.call();</div><div class="line">&#125;</div></pre></td></tr></table></figure></v></p>
<p>lambda调用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">String s = invoke(() -&gt; <span class="string">"done"</span>);</div></pre></td></tr></table></figure></p>
<p>通过返回值确定是调用的Callable。</p>
<h2 id="method-references-方法引用"><a href="#method-references-方法引用" class="headerlink" title="method references (方法引用)"></a>method references (方法引用)</h2><p>方法引用就是我们经常看到的lambda的”::”这种感觉特别诡异的lambda格式，通常的使用情况是这样的：<br>如果在lambda表达式中直接去调用其他的方法，那么就可以省略为“::”这种格式。比如：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PersonAgeComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Person</span>&gt; </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Person a, Person b)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> a.getBirthday().compareTo(b.getBirthday());</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Arrays.sort(rosterAsArray, <span class="keyword">new</span> PersonAgeComparator());</div></pre></td></tr></table></figure></p>
<p>封装成方法：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(T[] a, Comparator&lt;? <span class="keyword">super</span> T&gt; c)</span></span></div></pre></td></tr></table></figure></p>
<p>lambda调用：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Arrays.sort(rosterAsArray,</div><div class="line">    (Person a, Person b) -&gt; &#123;</div><div class="line">        <span class="keyword">return</span> a.getBirthday().compareTo(b.getBirthday());</div><div class="line">    &#125;</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>这里在lambda中可以直接调用person的comparebyage方法<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Arrays.sort(rosterAsArray,</div><div class="line">    (a, b) -&gt; Person.compareByAge(a, b)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>上面这种情况就满足方法引用的情况，可以直接省略为：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Arrays.sort(rosterAsArray, Person::compareByAge);</div></pre></td></tr></table></figure></p>
<p>再比如，传入一个外部比较器：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComparisonProvider</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareByName</span><span class="params">(Person a, Person b)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> a.getName().compareTo(b.getName());</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareByAge</span><span class="params">(Person a, Person b)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> a.getBirthday().compareTo(b.getBirthday());</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">ComparisonProvider myComparisonProvider = <span class="keyword">new</span> ComparisonProvider();</div><div class="line">Arrays.sort(rosterAsArray, myComparisonProvider::compareByName);</div></pre></td></tr></table></figure></p>
<p>通常的方法参考有下面4中情况：<br>kind  |example<br>–|–<br>引用静态方法  | ContainClass::staticMethodName<br>引用特定对象的一个实例方法  |containingObj:instanceMethodName<br>引用任意对象的一个特定类型的实例方法 | ContainingType:methodName<br>引用一个构造函数  | ClassName:new  </p>
<p>这里面第三个不太好理解，根据字面的理解就是只要是对象中的实例方法符合特定类型就可以使用方法引用。比如<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">String[] stringArray = &#123; <span class="string">"Barbara"</span>, <span class="string">"James"</span>, <span class="string">"Mary"</span>, <span class="string">"John"</span>,</div><div class="line">               <span class="string">"Patricia"</span>, <span class="string">"Robert"</span>, <span class="string">"Michael"</span>, <span class="string">"Linda"</span> &#125;;</div><div class="line">       Arrays.sort(stringArray, <span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</div><div class="line">           <span class="meta">@Override</span></div><div class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span> </span>&#123;</div><div class="line">               <span class="keyword">return</span> o1.compareToIgnoreCase(o2);</div><div class="line">           &#125;</div><div class="line">       &#125;);</div></pre></td></tr></table></figure></p>
<p>经过lambda后，可以缩写为：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Arrays.sort(stringArray, (o1, o2) -&gt; o1.compareToIgnoreCase(o2));</div></pre></td></tr></table></figure></p>
<p>满足方法引用的的情况3，可以简写为：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Arrays.sort(stringArray, String::compareToIgnoreCase);</div></pre></td></tr></table></figure></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>lambda实际上就是匿名方法的一种简写，适用于匿名内部类的简写等情况。</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html" title="Nested Classes" target="_blank" rel="external">Nested Classes</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/03/29/2016/java 内部类－Nested Classes/" data-id="cizy2lg0i001cszs6vdd1mkab" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/03/30/2016/编程中遇到的环境问题/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          编程中遇到的环境问题
        
      </div>
    </a>
  
  
    <a href="/2016/03/07/2016/2016-03-07-《成功，动机与目标》读书笔记－/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">《成功，动机与目标》读书笔记－</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/">blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-blog-github/">java blog github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-blog-github/">java, blog, github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/android/" style="font-size: 15px;">android</a> <a href="/tags/blog/" style="font-size: 20px;">blog</a> <a href="/tags/github/" style="font-size: 20px;">github</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/java-blog-github/" style="font-size: 10px;">java blog github</a> <a href="/tags/java-blog-github/" style="font-size: 10px;">java, blog, github</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/02/25/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2017/02/21/2017/android binder与aidl/">android binder与AIDL</a>
          </li>
        
          <li>
            <a href="/2017/02/17/2017/Android LruMemoryCache源码分析/">Android LruMemoryCache源码分析</a>
          </li>
        
          <li>
            <a href="/2017/02/17/2017/android DiskLruCache源码分析/">android DiskLruCache源码分析</a>
          </li>
        
          <li>
            <a href="/2017/02/15/2017/读书笔记/读书笔记书写技巧/">读书笔记书写技巧</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>