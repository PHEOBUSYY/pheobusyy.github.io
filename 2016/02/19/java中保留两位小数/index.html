<!DOCTYPE html><html class="has-navbar-fixed-top" lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><title></title><script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script><link rel="stylesheet" type="text/css" href="/css/bulma.css"><link rel="stylesheet" type="text/css" href="/css/justyan.css"><link rel="stylesheet" type="text/css" href="/highlight/styles/dracula.css"><link rel="icon" href="/img/favicon.png"></head><body><section class="hero is-info is-medium"><div class="hero-head"><nav class="navbar is-fixed-top is-info"><div class="container"><div class="navbar-brand"><a class="navbar-item"><img class="navbar-circle" src="https://avatars2.githubusercontent.com/u/9360264?s=50&amp;u=5e88482f7319a8ce65ed618bcede72ea97a7f5aa&amp;v=4"></a><span class="navbar-burger burger" data-target="navbarMenuHeroA"><span></span><span></span><span></span></span></div><div class="navbar-menu" id="navbarMenuHeroA"><div class="navbar-end"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/category">Categories</a><a class="navbar-item" href="/contact">Contact</a><span class="navbar-item"><a class="button is-info is-inverted" href="https://github.com/PHEOBUSYY"><span class="icon"><i class="fab fa-github"></i></span><span>Github</span></a></span></div></div></div></nav></div><div class="hero-body"><div class="has-text-centered"><h1 class="title">JAVA中的保留两位小数</h1><h2 class="subtitle">2016-02-19</h2></div></div><div class="hero-foot"></div></section><div id="content-outer"><div id="content-inner"><article id="post"><div id="toc"><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一-JAVA方法实现"><span class="toc-number">1.</span> <span class="toc-text">一. JAVA方法实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#方法一"><span class="toc-number">1.1.</span> <span class="toc-text">方法一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法二"><span class="toc-number">1.2.</span> <span class="toc-text">方法二</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法三"><span class="toc-number">1.3.</span> <span class="toc-text">方法三</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法四"><span class="toc-number">1.4.</span> <span class="toc-text">方法四</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法五"><span class="toc-number">1.5.</span> <span class="toc-text">方法五</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#补充"><span class="toc-number">2.</span> <span class="toc-text">补充</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何避免科学计数法"><span class="toc-number">2.1.</span> <span class="toc-text">如何避免科学计数法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#关于format的pattern详解"><span class="toc-number">2.2.</span> <span class="toc-text">关于format的pattern详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考资料"><span class="toc-number">2.3.</span> <span class="toc-text">参考资料</span></a></li></ol></li></ol></div></div><div class="post-text"><p>在java中，保留两位小数有很多种方法，其中主要思路有痛过NumberFormat等格式化数字或者通过BigDecimal来设置精度处理，下面列出了常用的4种方法。</p>
<a id="more"></a>
<h2 id="一-JAVA方法实现"><a href="#一-JAVA方法实现" class="headerlink" title="一. JAVA方法实现"></a>一. JAVA方法实现</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><p>  通过设置BigDecimal的精度来处理</p>
<pre><code class="java">  public static String parseDoubleDecimal(double d) {
    BigDecimal bigDecimal = new BigDecimal(d);
    return bigDecimal.setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue()+&quot;&quot;;
  }
</code></pre>
<h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><p>  通过DecimalFormat的setMaximumFractionDigits设置最长小数位数</p>
<pre><code class="java">  public static String parseDoubleDecimal2(double d) {
    NumberFormat decimalFormat = DecimalFormat.getInstance();
    decimalFormat.setMaximumFractionDigits(2);
    return decimalFormat.format(d);
  }
</code></pre>
<h3 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h3><p>  通过DecimalFormat的format方法来格式化</p>
<pre><code class="java">  public static String parseDoubleDecimal3(double d) {
    NumberFormat decimalFormat = new  DecimalFormat(&quot;##.00&quot;);
    return decimalFormat.format(d);
  }
</code></pre>
<h3 id="方法四"><a href="#方法四" class="headerlink" title="方法四"></a>方法四</h3><p>  通过String的format方法来格式化</p>
<pre><code class="java">  public static String parseDoubleDecimal4(double d) {
    return String.format(&quot;%.2f&quot;,d);
  }
</code></pre>
<h3 id="方法五"><a href="#方法五" class="headerlink" title="方法五"></a>方法五</h3><p>  通过Formatter的format方法来格式化，和方法四类似</p>
<pre><code class="java">  public static String parseDoubleDecimal5(double d) {
    return new Formatter().format(&quot;%.2f&quot;, d);
  }
</code></pre>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>  什么情况下可以避免科学计数法，和NumberFormat的format方法中pattern详解</p>
<h3 id="如何避免科学计数法"><a href="#如何避免科学计数法" class="headerlink" title="如何避免科学计数法"></a>如何避免科学计数法</h3><p>  在java中，如果浮点数大于999999.0的时候，会通过科学计数法莱显示浮点数，所以在编程的时候要注意   如何避免科学计数法，可以通过下面提供的方法来避免科学计数法</p>
<pre><code class="java">public static void main(String[] args) {
      BigDecimal bigDecimal = new BigDecimal(&quot;123456789.123456789&quot;);  
      String result = bigDecimal.toString();  
      System.out.println(result);
}
</code></pre>
<pre><code class="java">public static void main(String[] args) {
    Double double1 = 123456789.123456789;  
    DecimalFormat decimalFormat = new DecimalFormat(&quot;#,##0.00&quot;);//格式化设置  
    System.out.println(decimalFormat.format(double1));  
    System.out.println(double1);
}
</code></pre>
<h3 id="关于format的pattern详解"><a href="#关于format的pattern详解" class="headerlink" title="关于format的pattern详解"></a>关于format的pattern详解</h3><p>  pattern转义符表格</p>
<table>
<thead>
<tr>
<th style="text-align:center">符号</th>
<th style="text-align:center">位置</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">数字</td>
<td style="text-align:center">数字</td>
</tr>
<tr>
<td style="text-align:center">#</td>
<td style="text-align:center">数字</td>
<td style="text-align:center">数字，如果是0就不显示</td>
</tr>
<tr>
<td style="text-align:center">.</td>
<td style="text-align:center">数字</td>
<td style="text-align:center">小数和整数分隔符</td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center">数字</td>
<td style="text-align:center">负数</td>
</tr>
<tr>
<td style="text-align:center">,</td>
<td style="text-align:center">数字</td>
<td style="text-align:center">整数分隔符</td>
</tr>
<tr>
<td style="text-align:center">E</td>
<td style="text-align:center">数字</td>
<td style="text-align:center">科学计数法分隔符</td>
</tr>
<tr>
<td style="text-align:center">;</td>
<td style="text-align:center">分隔符</td>
<td style="text-align:center">多个pattern之间分隔符</td>
</tr>
<tr>
<td style="text-align:center">%</td>
<td style="text-align:center">前缀后缀</td>
<td style="text-align:center">百分位</td>
</tr>
<tr>
<td style="text-align:center">‘</td>
<td style="text-align:center">前缀后缀</td>
<td style="text-align:center">转义符号</td>
</tr>
<tr>
<td style="text-align:center">\u2030</td>
<td style="text-align:center">前缀后缀</td>
<td style="text-align:center">千分位</td>
</tr>
<tr>
<td style="text-align:center">\u00A4</td>
<td style="text-align:center">前缀后缀</td>
<td style="text-align:center">货币符号</td>
</tr>
</tbody>
</table>
<pre><code class="java">public class TestDecimalFormatPattern {
    public static double d = 100000.0009;

    public static void main(String[] args) {
        testPattern(&quot;##.##&quot;);
        testPattern(&quot;00.##&quot;);
        testPattern(&quot;##.00&quot;);
        testPattern(&quot;,###.00&quot;);
        testPattern(&quot;,##.00&quot;);
        testPattern(&quot;0.00E0&quot;);
        testPattern(&quot;##%&quot;);
        testPattern(&quot;###,##0.00&quot;);
        testPattern(&quot;###\u2030&quot;);
        testPattern(&quot;###\u00A4&quot;);
        testPattern(&quot;&#39;#&#39;#.##&quot;);
        testPattern(&quot;&#39;&#39;##.##&quot;);
        testPattern(&quot;AAAA##.##&quot;);

    }

    public static void testPattern(String pattern) {
        DecimalFormat decimalFormat = new DecimalFormat(pattern);
        System.out.println(&quot;pattern=&quot; + pattern + &quot; -----&gt;&quot; + decimalFormat.format(d));
    }
}
</code></pre>
<pre><code>输出:
pattern=00.## -----&gt;100000
pattern=##.00 -----&gt;100000.00
pattern=,###.00 -----&gt;100,000.00
pattern=,##.00 -----&gt;10,00,00.00
pattern=0.00E0 -----&gt;1.00E5
pattern=##% -----&gt;10000000%
pattern=###,##0.00 -----&gt;100,000.00
pattern=###‰ -----&gt;100000001‰
pattern=###¤ -----&gt;100000￥
pattern=&#39;#&#39;#.## -----&gt;#100000
pattern=&#39;&#39;##.## -----&gt;&#39;100000
pattern=AAAA##.## -----&gt;AAAA100000
</code></pre><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ol>
<li><a href="http://blog.csdn.net/yuhua3272004/article/details/3075436" title="java保留两位小数" target="_blank" rel="external">java保留两位小数</a></li>
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html" title="DecimalFormat" target="_blank" rel="external">DecimalFormat api</a></li>
</ol>
</div></article><div></div></div></div><div id="bottom-outer"><div id="bottom-inner"><span>Site construction by</span><span> JustYan </span><span>using</span><a href="http://hexo.io"><span>hexo blog framework</span></a><span>.</span><br><a href="/">Home</a></div></div><script src="/js/justyan.js"></script><script src="/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>